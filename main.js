(()=>{"use strict";var t={171:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(601),a=n.n(s),r=n(314),i=n.n(r)()(a());i.push([t.id,':root {\n  /* COLORS */\n  --clr-neutral-000: #ffffff;\n  --clr-neutral-100: #e0e0e0;\n  --clr-neutral-200: #c8c8c8;\n  --clr-neutral-700: #2e2e2e;\n  --clr-neutral-800: #1f1f1f;\n  --clr-neutral-900: #000000;\n\n  --clr-green: rgb(36, 115, 52);\n\n  /* FONTS */\n  --ff-sans-serif: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",\n    Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n\n  /* FONT SIZES */\n  --fs-normal: 1rem;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  color-scheme: dark;\n}\n\nbody {\n  font-family: var(--ff-sans-serif);\n  min-height: 100vh;\n  display: flex;\n  gap: 1rem;\n  flex-direction: column;\n  & > * {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-inline: 1rem;\n  }\n}\n\nimg {\n  max-width: 100%;\n  display: flex;\n}\n\nbutton {\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n/* HEADER ------------------------------------------------------------------------ */\n\nheader {\n  padding-block: 1rem;\n}\n\n/* MAIN -------------------------------------------------------------------------- */\n\nmain {\n  flex-grow: 1;\n}\n\nmain > .container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.main-header {\n  display: grid;\n  grid-template-columns: auto 1fr;\n  & > * {\n    grid-column: span 2;\n  }\n  & > *:last-child {\n    grid-column: span 1;\n  }\n  gap: 0.5rem;\n}\n\n.task__parent-task {\n  width: max-content;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  background: none;\n  border: none;\n  color: var(--clr-neutral-200);\n  svg {\n    width: 1rem;\n  }\n  &:hover {\n    cursor: pointer;\n    color: var(--clr-neutral-000);\n  }\n}\n\n.task__title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.task__description {\n  color: var(--clr-neutral-200);\n}\n\n.main-header__tabs {\n  display: flex;\n  gap: 0.25rem;\n  button {\n    display: flex;\n    align-items: center;\n    gap: 0.25rem;\n    padding: 0.25rem 0.25rem;\n    color: var(--clr-neutral-200);\n    background: none;\n    border: none;\n    position: relative;\n    &::before {\n      content: "";\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      transition: all 0.2s ease-in-out;\n      border-bottom: 2px solid transparent;\n    }\n    svg {\n      width: 1rem;\n    }\n    &:hover {\n      color: var(--clr-neutral-000);\n    }\n  }\n  button[aria-current="true"] {\n    color: var(--clr-neutral-000);\n    &::before {\n      content: "";\n      border-bottom: 2px solid var(--clr-neutral-000);\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n    }\n  }\n}\n\n.main-header__new-button {\n  /* grid-column: 2; */\n  /* grid-row: 5; */\n  grid-column: span 1;\n  order: 1;\n  display: inline;\n  justify-self: end;\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.25rem;\n  border: none;\n  width: max-content;\n  /* order: 6; */\n}\n\n.subtasks {\n  display: grid;\n  gap: 0.5rem;\n}\n\n.subtask {\n  position: relative;\n  background-color: var(--clr-neutral-800);\n  align-items: center;\n  border-radius: 0.5rem;\n  padding: 0.5rem;\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n  &:hover {\n    cursor: pointer;\n    background-color: var(--clr-neutral-700);\n    .task__buttons {\n      display: flex;\n    }\n  }\n}\n\n.subtask__title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  & > img {\n    width: 24px;\n  }\n}\n\n.subtask__description {\n  grid-row: 2;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n}\n\n.subtask__status {\n  grid-row: span 2;\n  align-self: center;\n}\n\n.context-menu {\n  display: none;\n  &[open] {\n    display: flex;\n  }\n  outline: none;\n  list-style: none;\n  border-radius: 0.5rem;\n  width: min(100%, 300px);\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.5);\n  background-color: var(--clr-neutral-800);\n  justify-content: start;\n  align-items: start;\n  padding: 0.5rem 0.25rem;\n  gap: 0.25rem;\n  ul {\n    width: 100%;\n  }\n  li {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    width: 100%;\n    padding: 0.125rem 0.25rem;\n    &:hover {\n      cursor: pointer;\n      background-color: var(--clr-neutral-700);\n    }\n    svg {\n      width: 1.25rem;\n    }\n  }\n}\n\n[aria-visible="false"] {\n  display: none;\n}\n\n[aria-visible="true"] {\n  display: flex;\n}\n\n/* DIALOG ------------------------------------------------------------------------ */\n\n.new-task-dialog {\n  place-self: center;\n  padding: 1rem;\n  width: min(100%, 400px);\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    label {\n      display: flex;\n      flex-direction: column;\n    }\n    input {\n      font-size: var(--fs-normal);\n    }\n  }\n}\n\n/* FOOTER ------------------------------------------------------------------------ */\n\nfooter {\n  padding-block: 1rem;\n  a {\n    font-weight: bold;\n    color: var(--clr-neutral-100);\n    &:hover {\n      color: var(--clr-neutral-000);\n    }\n  }\n}\n\n/* UTILITY ------------------------------------------------------------------------ */\n\n.container {\n  max-width: 900px;\n  /* border: 1px solid red; */\n  width: 100%;\n}\n\n.disable-text-highlight {\n  -webkit-user-select: none;\n  -webkit-touch-callout: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* MEDIA QUERIES ----------------- */\n\n@media (max-width: 600px) {\n  /* .context-menu {\n    display: flex;\n    width: 100%;\n    transition: bottom 0.2s ease-in-out;\n    z-index: 10;\n    &::after {\n      opacity: 0;\n      transition: opacity 1s ease-in-out;\n    }\n  } */\n  /* [aria-visible="false"] {\n    bottom: -100%;\n  } */\n\n  /* [aria-visible="true"] {\n    bottom: 0;\n    &::after {\n      content: "";\n      width: 100%;\n      height: 100vh;\n      opacity: 0.5;\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: -10;\n    }\n  } */\n}\n',""]);const o=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,a,r){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);s&&i[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},i=[],o=0;o<t.length;o++){var l=t[o],c=s.base?l[0]+s.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var k=a(p,s);s.byIndex=o,e.splice(o,0,{identifier:u,updater:k,references:1})}i.push(u)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var r=s(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<r.length;i++){var o=n(r[i]);e[o].references--}for(var l=s(t,a),c=0;c<r.length;c++){var d=n(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},659:t=>{var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,a&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={id:s,exports:{}};return t[s](r,r.exports,n),r.exports}function s(t){return`\n    <li class="subtask">\n        <h3 class="subtask__title"><span>${t.icon}</span>${t.title}</h3>\n    ${t.subtasksIds.length>0?`<p class="subtask__status">${t.subtaskCompletionPercentage}%</p>`:`<input class="subtask__status" type="checkbox" ${t.complete?"checked":""} >`}\n    </li>\n    `}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var a=n(72),r=n.n(a),i=n(825),o=n.n(i),l=n(659),c=n.n(l),d=n(56),u=n.n(d),h=n(540),p=n.n(h),k=n(113),b=n.n(k),m=n(171),f={};f.styleTagTransform=b(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p(),r()(m.A,f),m.A&&m.A.locals&&m.A.locals;const g="doing",v="done",y="master";class w{constructor({icon:t=this._createRandomEmojiIcon(),title:e="Untitled",description:n="",dueDate:s="",complete:a=!1,id:r=this._generateId(),parentId:i="",subtasksIds:o=[]}={}){this.icon=t,this.title=e,this.description=n,this.dueDate=s,this.complete=a,this.id=r,this.parentId=i,this.subtasksIds=o}_generateId(){return Math.random().toString(16).slice(2)}_createRandomEmojiIcon(){const t=[[128512,128591],[127744,128511],[128640,128767],[128768,128895],[128896,129023],[129024,129279],[129280,129535],[9728,9983],[9984,10175],[11088,11093]],e=t[Math.floor(Math.random()*t.length)],n=Math.floor(Math.random()*(e[1]-e[0]+1))+e[0];return String.fromCodePoint(n)}}const T=new class{constructor(){this.init()}init(){if(localStorage.getItem("tasks")||localStorage.setItem("tasks",JSON.stringify({})),!this.tasks[y]){const t=new w({icon:"🏠",title:"Home",id:y}),e=this.tasks;e[y]=t,this.tasks=e}}get tasks(){return JSON.parse(localStorage.getItem("tasks"))}set tasks(t){localStorage.setItem("tasks",JSON.stringify(t))}getTask(t){return this.tasks[t]}updateTask(t){const e=this.tasks;e[t.id]=t,this.tasks=e}deleteTask(t){const e=T.tasks;delete e[t],T.tasks=e}deleteSubtask(t,e){const n=T.getTask(t);n.subtasksIds.splice(n.subtasksIds.indexOf(e),1),T.updateTask(n);const s=[e];for(let t of s)T.getTask(t).subtasksIds.forEach((t=>{s.push(t)}));s.forEach((t=>{this.deleteTask(t)}))}addSubtask(t,e){e.parentId=t,T.updateTask(e);const n=T.getTask(t);n.subtasksIds.push(e.id),T.updateTask(n)}duplicateSubtask(t,e){let n=this._duplicateTaskRecursive(t,e);const s=this.tasks;return s[e].subtasksIds.push(n),this.tasks=s,n}_duplicateTaskRecursive(t,e){let n=this.tasks;if(!n[t])return console.error("Task not found in localStorage"),null;let s=n[t],a=x._generateId(),r={...s,id:a,subtasksIds:[],parentId:e,title:s.title+" (copy)"};return n[a]=r,this.tasks=n,s.subtasksIds.forEach((t=>{if(n[t]){let e=this._duplicateTaskRecursive(t,a);e&&r.subtasksIds.push(e)}})),n=this.tasks,n[a]=r,this.tasks=n,a}},x=new w(T.getTask(y)),S=new class{constructor(){this.currentTask=void 0,this.currentTab=g}render(t){this.currentTask=t,this.renderParentTask(),this.renderTitle(),this.renderDescription(),this.renderTabs(),this.renderSubtasks()}renderParentTask(){if(document.querySelector(".task__parent-task")?.remove(),!this.currentTask.parentId)return;const t=`\n      <button class="task__parent-task">\n      <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-left"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l14 0" /><path d="M5 12l6 6" /><path d="M5 12l6 -6" /></svg>\n      ${this.currentTask.parentTask.title}\n      `;document.querySelector(".main-header").insertAdjacentHTML("afterbegin",t)}renderTitle(){document.querySelector(".task__title").innerHTML=`<span>${this.currentTask.icon}</span>`+this.currentTask.title}renderDescription(){if(document.querySelector(".task__description")?.remove(),!this.currentTask.description)return;const t=`\n      <p class="task__description">\n        ${this.currentTask.description}\n      </p>\n    `,e=document.querySelector(".main-header");e?.insertAdjacentHTML("beforeend",t)}renderTabs(){if(document.querySelector(".main-header__tabs")?.remove(),0===this.currentTask.subtasksIds.length)return;const t=`\n      <span class="main-header__tabs">\n        <button value="${g}" aria-current="${this.currentTab===g?"true":"false"}">\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            width="24"\n            height="24"\n            viewBox="0 0 24 24"\n            fill="none"\n            stroke="currentColor"\n            stroke-width="2"\n            stroke-linecap="round"\n            stroke-linejoin="round"\n            class="icon icon-tabler icons-tabler-outline icon-tabler-player-play"\n          >\n            <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n            <path d="M7 4v16l13 -8z" />\n          </svg>\n          Doing\n        </button>\n        <button value="${v}" aria-current="${this.currentTab===v?"true":"false"}">\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            width="24"\n            height="24"\n            viewBox="0 0 24 24"\n            fill="none"\n            stroke="currentColor"\n            stroke-width="2"\n            stroke-linecap="round"\n            stroke-linejoin="round"\n            class="icon icon-tabler icons-tabler-outline icon-tabler-checkbox"\n          >\n            <path stroke="none" d="M0 0h24v24H0z" fill="none" />\n            <path d="M9 11l3 3l8 -8" />\n            <path\n              d="M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"\n            />\n          </svg>\n          Done\n        </button>\n      </span>\n      `,e=document.querySelector(".main-header");e?.insertAdjacentHTML("beforeend",t)}renderSubtasks(){const t=document.querySelector(".subtasks");if(t.innerHTML="",0!==this.currentTask.subtasks.length){if(t.innerHTML=`\n    ${this.currentTask.subtasks.map((t=>this.currentTab!==g||t.complete?this.currentTab===v&&t.complete?s(t):void 0:s(t))).join("")}\n    `,0===t.children.length)if(this.currentTab===g){const e='\n        <p>All done! Add some more subtasks by clicking the "new" button</p>\n        ';t.insertAdjacentHTML("beforeend",e)}else if(this.currentTab===v){const e="\n        <p>No finished tasks!</p>\n        ";t.insertAdjacentHTML("beforeend",e)}}else{const e='\n      <p>No subtasks, add some by click on the "new" button</p>\n      ';t.insertAdjacentHTML("beforeend",e)}}bindClickTab(t){const e=document.querySelector(".main-header__tabs");e&&e.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(e=>t(e)))}))}bindClickParentTask(t){const e=document.querySelector(".task__parent-task");e&&e.addEventListener("click",t)}bindClickSubtask(t){document.querySelectorAll(".subtask").forEach(((e,n)=>{e.addEventListener("click",(e=>t(e,n,this.currentTab)))}))}bindAddSubtask(t){const e=document.querySelector(".main-header__new-button");e&&e.addEventListener("click",t)}bindCompleteSubtask(t){document.querySelectorAll(".subtask").forEach(((e,n)=>{const s=e.querySelector('input[type="checkbox"');s&&s.addEventListener("change",(e=>t(e,n,this.currentTab)))}))}bindRightClickSubtask(t){document.querySelectorAll(".subtask").forEach(((e,n)=>{e.addEventListener("contextmenu",(e=>t(e,n,this.currentTab)))}))}bindContextMenuClick(t){document.querySelectorAll(".context-menu ul li").forEach((e=>{e.addEventListener("click",(e=>t(e)))}))}};new class{constructor(t,e,n){this.storage=n,this.view=e,this.task=t,this.updateTask(t.id),this.updateView(),this.view.bindContextMenuClick(this.handleContextMenuClick.bind(this))}updateView(){this.view.render(this.task),this.view.bindClickTab(this.handleClickTab.bind(this)),this.view.bindClickSubtask(this.handleClickSubtask.bind(this)),this.view.bindClickParentTask(this.handleClickParentTask.bind(this)),this.view.bindAddSubtask(this.handleAddSubtask.bind(this)),this.view.bindCompleteSubtask(this.handleCompleteSubtask.bind(this)),this.view.bindRightClickSubtask(this.handleRightClickSubtask.bind(this))}updateTask(t){this.task=new w(T.getTask(t)),this.getParentTask(),this.getSubtasks(),this.getSubtasksSubtaskCompletion(),this.view.currentTab=g,this.updateView()}getParentTask(){const t=this.storage.getTask(this.task.parentId);this.task.parentTask=t}getSubtasks(){const t=this.storage.getTask(this.task.id).subtasksIds.map((t=>this.storage.getTask(t)));this.task.subtasks=t}getSubtasksSubtaskCompletion(){const t=this.task.subtasks;t.forEach((t=>{if(t.subtasksIds.length>0){const e=t.subtasksIds.map((t=>this.storage.getTask(t))),n=e.reduce(((t,e)=>t+e.complete),0)/e.length*100;t.subtaskCompletionPercentage=n}})),this.task.subtasks=t}handleClickParentTask(){this.updateTask(this.task.parentId)}handleClickSubtask(t,e,n){if("checkbox"===t.target.type)return;let s;if(n===v){const t=this.task.subtasks.filter((t=>t.complete));s=t[e]}else if(n===g){const t=this.task.subtasks.filter((t=>!t.complete));s=t[e]}this.updateTask(s.id)}handleAddSubtask(){const t=document.querySelector(".new-task-dialog");t.showModal(),t.querySelector('button[type="reset"').addEventListener("click",(()=>{t.close()})),t.querySelector('button[type="submit"').addEventListener("click",(e=>{const n=t.querySelector("form");if(n.checkValidity()){const e=t.querySelector('input[name="title"').value,s=t.querySelector('input[name="description"').value,a=t.querySelector('input[name="dueDate"').value;this.storage.addSubtask(this.task.id,new w({title:e,description:s,dueDate:a})),this.updateTask(this.task.id),this.updateView(),n.reset(),t.close()}}))}handleCompleteSubtask(t,e,n){let s;if(n===v){const t=this.task.subtasks.filter((t=>t.complete));s=t[e]}else if(n===g){const t=this.task.subtasks.filter((t=>!t.complete));s=t[e]}s.complete=!s.complete,this.storage.updateTask(s),s.complete&&0===this.task.subtasks.filter((t=>!t.complete)).length&&(this.task.complete=!0,this.storage.updateTask(this.task)),this.updateTask(this.task.id),this.updateView()}handleClickTab(t){const e=t.target.value;this.view.currentTab=e,this.updateView()}handleRightClickSubtask(t,e,n){if(t.preventDefault(),"checkbox"===t.target.type)return;const s=document.querySelector(".context-menu");s.setAttribute("data-subtask-index",e),s.showModal(),s.style.left=t.clientX+"px",s.style.top=t.clientY+"px",s.addEventListener("contextmenu",(t=>{t.preventDefault();const e=s.getBoundingClientRect();e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width||s.close()})),s.addEventListener("click",(t=>{s.close()}))}handleContextMenuClick(t){const e=t.currentTarget.parentNode.parentNode.getAttribute("data-subtask-index"),n=this.view.currentTab===g?this.task.subtasks.filter((t=>!t.complete))[e]:this.task.subtasks.filter((t=>t.complete))[e];switch(t.currentTarget.getAttribute("data-value")){case"duplicate":this.storage.duplicateSubtask(n.id,this.task.id),this.updateTask(this.task.id),this.updateView();break;case"delete":this.storage.deleteSubtask(this.task.id,n.id),this.updateTask(this.task.id),this.updateView()}}}(x,S,T)})();